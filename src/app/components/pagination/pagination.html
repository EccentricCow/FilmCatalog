<div class="pagination">
  @if (totalResults() > 0) {
  <div class="pagination__inner">
    <button
      class="pagination__arrow pagination__action"
      [disabled]="currentPage() === 1"
      (click)="_onClick(currentPage()! - 1)"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xml:space="preserve"
        width="30"
        height="30"
        viewBox="0 0 512 512"
      >
        <path
          fill="white"
          d="M466.81 210.811H206.686v-89.279c0-19.911-16.198-36.109-36.109-36.109-9.644 0-18.712 3.755-25.534 10.577L10.577 230.467C3.756 237.288 0 246.356 0 256s3.756 18.712 10.577 25.534l134.467 134.468c6.82 6.818 15.888 10.575 25.533 10.575 19.911 0 36.109-16.198 36.109-36.109v-89.279h260.126C491.729 301.189 512 280.918 512 256s-20.271-45.189-45.19-45.189m0 69.98H196.487c-5.633 0-10.199 4.567-10.199 10.199v99.478c0 8.663-7.048 15.711-15.711 15.711a15.6 15.6 0 0 1-11.11-4.602L25 267.111A15.62 15.62 0 0 1 20.398 256 15.6 15.6 0 0 1 25 244.891l134.466-134.466a15.6 15.6 0 0 1 11.11-4.603c8.663 0 15.711 7.048 15.711 15.711v99.478c0 5.632 4.566 10.199 10.199 10.199h270.325c13.669 0 24.79 11.121 24.79 24.79.001 13.669-11.121 24.79-24.791 24.791"
        />
        <path
          fill="white"
          d="M131.87 162.094c-3.984-3.982-10.442-3.982-14.425 0l-2.266 2.266c-3.983 3.984-3.983 10.442 0 14.425 1.991 1.991 4.602 2.987 7.212 2.987s5.221-.996 7.213-2.987l2.266-2.266c3.982-3.984 3.982-10.442 0-14.425M106.656 187.474c-3.984-3.981-10.441-3.982-14.425 0L32.565 247.14c-3.983 3.984-3.983 10.442 0 14.425a10.17 10.17 0 0 0 7.212 2.987c2.61 0 5.221-.997 7.213-2.987l59.666-59.666c3.983-3.984 3.983-10.443 0-14.425"
        />
      </svg>
    </button>

    @if (_paginationArray().leftBack) {
    <div class="pagination__side">
      <span class="pagination__num pagination__action" (click)="_onClick(1)">1</span>
      <span
        class="pagination__num pagination__action"
        (click)="_onClick(_math.max(currentPage()! - 5, 3))"
        >...</span
      >
    </div>

    } @for (num of _paginationArray().nums; track num) {
    <span
      class="pagination__num pagination__action"
      [class.active]="num === currentPage()"
      (click)="_onClick(num)"
    >
      {{ num }}
    </span>
    } @if (_paginationArray().rightForward) {
    <div class="pagination__side">
      <span
        class="pagination__num pagination__action"
        (click)="_onClick(_math.min(currentPage()! + 5, allPagesCount()! - 2))"
        >...</span
      >
      <span class="pagination__num pagination__action" (click)="_onClick(allPagesCount()!)">{{
        allPagesCount()
      }}</span>
    </div>
    }

    <button
      class="pagination__arrow pagination__action"
      [disabled]="currentPage() === allPagesCount()"
      (click)="_onClick(currentPage()! + 1)"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 512 512">
        <g transform="rotate(180 256 256)">
          <path
            fill="white"
            d="M466.81 210.811H206.686v-89.279c0-19.911-16.198-36.109-36.109-36.109-9.644 0-18.712 3.755-25.534 10.577L10.577 230.467C3.756 237.288 0 246.356 0 256s3.756 18.712 10.577 25.534l134.467 134.468c6.82 6.818 15.888 10.575 25.533 10.575 19.911 0 36.109-16.198 36.109-36.109v-89.279h260.126C491.729 301.189 512 280.918 512 256s-20.271-45.189-45.19-45.189m0 69.98H196.487c-5.633 0-10.199 4.567-10.199 10.199v99.478c0 8.663-7.048 15.711-15.711 15.711a15.6 15.6 0 0 1-11.11-4.602L25 267.111A15.62 15.62 0 0 1 20.398 256 15.6 15.6 0 0 1 25 244.891l134.466-134.466a15.6 15.6 0 0 1 11.11-4.603c8.663 0 15.711 7.048 15.711 15.711v99.478c0 5.632 4.566 10.199 10.199 10.199h270.325c13.669 0 24.79 11.121 24.79 24.79.001 13.669-11.121 24.79-24.791 24.791"
          />
          <path
            fill="white"
            d="M131.87 162.094c-3.984-3.982-10.442-3.982-14.425 0l-2.266 2.266c-3.983 3.984-3.983 10.442 0 14.425 1.991 1.991 4.602 2.987 7.212 2.987s5.221-.996 7.213-2.987l2.266-2.266c3.982-3.984 3.982-10.442 0-14.425M106.656 187.474c-3.984-3.981-10.441-3.982-14.425 0L32.565 247.14c-3.983 3.984-3.983 10.442 0 14.425a10.17 10.17 0 0 0 7.212 2.987c2.61 0 5.221-.997 7.213-2.987l59.666-59.666c3.983-3.984 3.983-10.443 0-14.425"
          />
        </g>
      </svg>
    </button>
  </div>

  <div class="pagination__extra">
    <button
      class="pagination__arrow pagination__action"
      [disabled]="currentPage() === 1"
      (click)="_onClick(1)"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xml:space="preserve"
        width="30"
        height="30"
        viewBox="0 0 512 512"
      >
        <path
          fill="white"
          d="M466.81 210.811H206.686v-89.279c0-19.911-16.198-36.109-36.109-36.109-9.644 0-18.712 3.755-25.534 10.577L10.577 230.467C3.756 237.288 0 246.356 0 256s3.756 18.712 10.577 25.534l134.467 134.468c6.82 6.818 15.888 10.575 25.533 10.575 19.911 0 36.109-16.198 36.109-36.109v-89.279h260.126C491.729 301.189 512 280.918 512 256s-20.271-45.189-45.19-45.189m0 69.98H196.487c-5.633 0-10.199 4.567-10.199 10.199v99.478c0 8.663-7.048 15.711-15.711 15.711a15.6 15.6 0 0 1-11.11-4.602L25 267.111A15.62 15.62 0 0 1 20.398 256 15.6 15.6 0 0 1 25 244.891l134.466-134.466a15.6 15.6 0 0 1 11.11-4.603c8.663 0 15.711 7.048 15.711 15.711v99.478c0 5.632 4.566 10.199 10.199 10.199h270.325c13.669 0 24.79 11.121 24.79 24.79.001 13.669-11.121 24.79-24.791 24.791"
        />
        <path
          fill="white"
          d="M131.87 162.094c-3.984-3.982-10.442-3.982-14.425 0l-2.266 2.266c-3.983 3.984-3.983 10.442 0 14.425 1.991 1.991 4.602 2.987 7.212 2.987s5.221-.996 7.213-2.987l2.266-2.266c3.982-3.984 3.982-10.442 0-14.425M106.656 187.474c-3.984-3.981-10.441-3.982-14.425 0L32.565 247.14c-3.983 3.984-3.983 10.442 0 14.425a10.17 10.17 0 0 0 7.212 2.987c2.61 0 5.221-.997 7.213-2.987l59.666-59.666c3.983-3.984 3.983-10.443 0-14.425"
        />
      </svg>
    </button>
    <button
      class="pagination__arrow pagination__action"
      [disabled]="currentPage() === allPagesCount()"
      (click)="_onClick(allPagesCount())"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 512 512">
        <g transform="rotate(180 256 256)">
          <path
            fill="white"
            d="M466.81 210.811H206.686v-89.279c0-19.911-16.198-36.109-36.109-36.109-9.644 0-18.712 3.755-25.534 10.577L10.577 230.467C3.756 237.288 0 246.356 0 256s3.756 18.712 10.577 25.534l134.467 134.468c6.82 6.818 15.888 10.575 25.533 10.575 19.911 0 36.109-16.198 36.109-36.109v-89.279h260.126C491.729 301.189 512 280.918 512 256s-20.271-45.189-45.19-45.189m0 69.98H196.487c-5.633 0-10.199 4.567-10.199 10.199v99.478c0 8.663-7.048 15.711-15.711 15.711a15.6 15.6 0 0 1-11.11-4.602L25 267.111A15.62 15.62 0 0 1 20.398 256 15.6 15.6 0 0 1 25 244.891l134.466-134.466a15.6 15.6 0 0 1 11.11-4.603c8.663 0 15.711 7.048 15.711 15.711v99.478c0 5.632 4.566 10.199 10.199 10.199h270.325c13.669 0 24.79 11.121 24.79 24.79.001 13.669-11.121 24.79-24.791 24.791"
          />
          <path
            fill="white"
            d="M131.87 162.094c-3.984-3.982-10.442-3.982-14.425 0l-2.266 2.266c-3.983 3.984-3.983 10.442 0 14.425 1.991 1.991 4.602 2.987 7.212 2.987s5.221-.996 7.213-2.987l2.266-2.266c3.982-3.984 3.982-10.442 0-14.425M106.656 187.474c-3.984-3.981-10.441-3.982-14.425 0L32.565 247.14c-3.983 3.984-3.983 10.442 0 14.425a10.17 10.17 0 0 0 7.212 2.987c2.61 0 5.221-.997 7.213-2.987l59.666-59.666c3.983-3.984 3.983-10.443 0-14.425"
          />
        </g>
      </svg>
    </button>
  </div>
  } @else {
  <div class="pagination__no-results">Ничего не нашлось :(</div>
  }
</div>
